++ ls caseresult/ -ltr
++ wc -l
+ filename=case100
+ mkdir caseresult/case100
+ ssh hadoop@master mkdir /home/hadoop/git/physical_design/caseresult/case100
+ RESULT_DIR=/home/hadoop/git/physical_design/caseresult/case100
+ TEN=10
+ SIXTY=60
+ SLEEP_TIME=300
+ YCSB_DIR=/home/hadoop/ycsb-0.1.4
+ number_of_operations=10000000
+ number_of_threads=20
+ number_of_records=10000000
+ output_file_suffix=.dat
+ experiment_list_file=/home/hadoop/git/physical_design/case100.list
+ clean=false
+ create=false
+ load=false
+ random_read=false
+ workloada=false
+ workloadb=false
+ workloadc=false
+ scan=false
+ all=false
+ for i in '$@'
+ '[' clean == all ']'
+ '[' clean == clean ']'
+ clean=true
+ for i in '$@'
+ '[' create == all ']'
+ '[' create == clean ']'
+ '[' create == create ']'
+ create=true
+ for i in '$@'
+ '[' workloadc == all ']'
+ '[' workloadc == clean ']'
+ '[' workloadc == create ']'
+ '[' workloadc == load ']'
+ '[' workloadc == random_read ']'
+ '[' workloadc == scan ']'
+ '[' workloadc == workloada ']'
+ '[' workloadc == workloadb ']'
+ '[' workloadc == workloadc ']'
+ workloadc=true
+ let counter=1
+ cd /home/hadoop/ycsb-0.1.4
++ pwd
+ echo /home/hadoop/ycsb-0.1.4
/home/hadoop/ycsb-0.1.4
+ read line
+ false
+ true
+ echo 'sleeping for 60 ...'
sleeping for 60 ...
+ sleep 60
+ echo 'droping usertable...'
droping usertable...
+ ssh hadoop@master /home/hadoop/hbase/bin/hbase shell /home/hadoop/git/physical_design/delete_table
0 row(s) in 2.7640 seconds

0 row(s) in 1.3680 seconds

0 row(s) in 0.0930 seconds

+ echo 'sleeping for 300 ...'
sleeping for 300 ...
+ sleep 300
+ false
+ true
+ echo 'creating usertable...'
creating usertable...
+ create_statement='create '\''usertable'\'', { NAME=>'\''family'\'', COMPRESSION=>'\''GZ'\''}, SPLITS => ['\''user1'\'', '\''user2'\'', '\''user3'\'', '\''user4'\'', '\''user5'\'', '\''user6'\'', '\''user7'\'', '\''user8'\'', '\''user9'\'']'
+ echo create ''\''usertable'\'',' '{' 'NAME=>'\''family'\'',' 'COMPRESSION=>'\''GZ'\''},' SPLITS '=>' '['\''user1'\'',' ''\''user2'\'',' ''\''user3'\'',' ''\''user4'\'',' ''\''user5'\'',' ''\''user6'\'',' ''\''user7'\'',' ''\''user8'\'',' ''\''user9'\'']'
+ echo 'exit '
+ scp /home/hadoop/git/physical_design/caseresult/case100/create_1.script hadoop@master:/home/hadoop/git/physical_design/caseresult/case100/create_1.script
+ create_table /home/hadoop/git/physical_design/caseresult/case100/create_1.script
+ echo 'creating table...'
creating table...
+ echo /home/hadoop/git/physical_design/caseresult/case100/create_1.script
/home/hadoop/git/physical_design/caseresult/case100/create_1.script
+ ssh hadoop@master /home/hadoop/hbase/bin/hbase shell /home/hadoop/git/physical_design/caseresult/case100/create_1.script
0 row(s) in 1.5130 seconds

+ echo 'sleeping for 10 sec ...'
sleeping for 10 sec ...
+ sleep 10
+ false
+ false
+ false
+ false
+ false
+ false
+ false
+ false
+ false
+ true
+ echo workloadc...
workloadc...
+ echo 'start time: '
start time: 
++ date +%s
+ echo 1405116860
1405116860
++ echo /home/hadoop/git/physical_design/caseresult/case100/workloadc_1.dat
+ ./workloadc 10000000 20 /home/hadoop/git/physical_design/caseresult/case100/workloadc_1.dat
Loading workload...
Starting test.
2014-07-11 15:14:21:356 0 sec: 0 operations; 
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:zookeeper.version=3.4.6-1569965, built on 02/20/2014 09:09 GMT
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:host.name=sceplus-vm43.almaden.ibm.com
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:java.version=1.6.0_31
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:java.vendor=Sun Microsystems Inc.
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:java.home=/usr/lib/jvm/java-6-openjdk-amd64/jre
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:java.class.path=/home/hadoop/ycsb-0.1.4/hbase-binding/lib/hbase-binding-0.1.4.jar:/home/hadoop/ycsb-0.1.4/hbase-binding/conf:/home/hadoop/ycsb-0.1.4/core/lib/core-0.1.4.jar:/home/hadoop/ycsb-0.1.4/jdbc-binding/conf
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:java.library.path=/usr/lib/jvm/java-6-openjdk-amd64/jre/lib/amd64/server:/usr/lib/jvm/java-6-openjdk-amd64/jre/lib/amd64:/usr/lib/jvm/java-6-openjdk-amd64/jre/../lib/amd64:/usr/java/packages/lib/amd64:/usr/lib/jni:/lib:/usr/lib
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:java.io.tmpdir=/tmp
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:java.compiler=<NA>
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:os.name=Linux
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:os.arch=amd64
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:os.version=3.13.0-24-generic
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:user.name=hadoop
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:user.home=/home/hadoop
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Client environment:user.dir=/home/hadoop/ycsb-0.1.4
14/07/11 15:14:21 INFO zookeeper.ZooKeeper: Initiating client connection, connectString=sceplus-vm49.almaden.ibm.com:2181,sceplus-vm48.almaden.ibm.com:2181 sessionTimeout=90000 watcher=hconnection-0x62565cf8, quorum=sceplus-vm49.almaden.ibm.com:2181,sceplus-vm48.almaden.ibm.com:2181, baseZNode=/hbase
14/07/11 15:14:21 INFO zookeeper.RecoverableZooKeeper: Process identifier=hconnection-0x62565cf8 connecting to ZooKeeper ensemble=sceplus-vm49.almaden.ibm.com:2181,sceplus-vm48.almaden.ibm.com:2181
14/07/11 15:14:21 INFO zookeeper.ClientCnxn: Opening socket connection to server master/9.1.143.58:2181. Will not attempt to authenticate using SASL (unknown error)
14/07/11 15:14:21 INFO zookeeper.ClientCnxn: Socket connection established to master/9.1.143.58:2181, initiating session
14/07/11 15:14:21 INFO zookeeper.ClientCnxn: Session establishment complete on server master/9.1.143.58:2181, sessionid = 0x472929ed67000c, negotiated timeout = 90000
2014-07-11 15:14:31:357 10 sec: 180704 operations; 18068.59 current ops/sec; [INSERT AverageLatency(us)=148.43] [READ AverageLatency(us)=8171.21] 
2014-07-11 15:14:41:358 20 sec: 463102 operations; 28236.98 current ops/sec; [INSERT AverageLatency(us)=33.51] [READ AverageLatency(us)=6782.59] 
2014-07-11 15:14:51:374 30 sec: 785485 operations; 32190.01 current ops/sec; [INSERT AverageLatency(us)=12.46] [READ AverageLatency(us)=6003.28] 
2014-07-11 15:15:01:374 40 sec: 1115039 operations; 32952.1 current ops/sec; [INSERT AverageLatency(us)=11.96] [READ AverageLatency(us)=5917.49] 
2014-07-11 15:15:11:375 50 sec: 1416412 operations; 30137.3 current ops/sec; [INSERT AverageLatency(us)=10.95] [READ AverageLatency(us)=6410.69] 
2014-07-11 15:15:21:375 60 sec: 1709623 operations; 29318.17 current ops/sec; [INSERT AverageLatency(us)=11.22] [READ AverageLatency(us)=6698.77] 
2014-07-11 15:15:31:378 70 sec: 1982236 operations; 27253.12 current ops/sec; [INSERT AverageLatency(us)=11.88] [READ AverageLatency(us)=7185.76] 
2014-07-11 15:15:41:378 80 sec: 2281094 operations; 29885.8 current ops/sec; [INSERT AverageLatency(us)=11.79] [READ AverageLatency(us)=6548.37] 
2014-07-11 15:15:51:379 90 sec: 2552973 operations; 27185.18 current ops/sec; [INSERT AverageLatency(us)=13.44] [READ AverageLatency(us)=7114.07] 
2014-07-11 15:16:01:379 100 sec: 2828447 operations; 27547.4 current ops/sec; [INSERT AverageLatency(us)=11.47] [READ AverageLatency(us)=7140.99] 
2014-07-11 15:16:11:380 110 sec: 3110819 operations; 28234.38 current ops/sec; [INSERT AverageLatency(us)=11.94] [READ AverageLatency(us)=6898.66] 
2014-07-11 15:16:21:380 120 sec: 3370563 operations; 25974.4 current ops/sec; [INSERT AverageLatency(us)=12.06] [READ AverageLatency(us)=7585.61] 
2014-07-11 15:16:31:381 130 sec: 3652487 operations; 28189.58 current ops/sec; [INSERT AverageLatency(us)=11.52] [READ AverageLatency(us)=6934.63] 
2014-07-11 15:16:41:381 140 sec: 3922095 operations; 26960.8 current ops/sec; [INSERT AverageLatency(us)=11.54] [READ AverageLatency(us)=7319.73] 
2014-07-11 15:16:51:382 150 sec: 4172437 operations; 25031.7 current ops/sec; [INSERT AverageLatency(us)=11.34] [READ AverageLatency(us)=7856.87] 
2014-07-11 15:17:01:382 160 sec: 4424947 operations; 25251 current ops/sec; [INSERT AverageLatency(us)=10.75] [READ AverageLatency(us)=7797.6] 
2014-07-11 15:17:11:383 170 sec: 4683712 operations; 25876.5 current ops/sec; [INSERT AverageLatency(us)=10.6] [READ AverageLatency(us)=7617.38] 
2014-07-11 15:17:21:383 180 sec: 4962345 operations; 27860.51 current ops/sec; [INSERT AverageLatency(us)=11.24] [READ AverageLatency(us)=7018.83] 
2014-07-11 15:17:31:383 190 sec: 5223464 operations; 26111.9 current ops/sec; [INSERT AverageLatency(us)=10.78] [READ AverageLatency(us)=7526.46] 
2014-07-11 15:17:41:384 200 sec: 5493846 operations; 27035.5 current ops/sec; [INSERT AverageLatency(us)=10.73] [READ AverageLatency(us)=7271.08] 
2014-07-11 15:17:51:384 210 sec: 5740731 operations; 24688.5 current ops/sec; [INSERT AverageLatency(us)=10.77] [READ AverageLatency(us)=7927.83] 
2014-07-11 15:18:01:385 220 sec: 5999554 operations; 25879.71 current ops/sec; [INSERT AverageLatency(us)=10.99] [READ AverageLatency(us)=7452.57] 
2014-07-11 15:18:11:385 230 sec: 6239957 operations; 24040.3 current ops/sec; [INSERT AverageLatency(us)=10.9] [READ AverageLatency(us)=8169.28] 
2014-07-11 15:18:21:386 240 sec: 6498919 operations; 25893.61 current ops/sec; [INSERT AverageLatency(us)=10.88] [READ AverageLatency(us)=7578.29] 
2014-07-11 15:18:31:386 250 sec: 6751077 operations; 25215.8 current ops/sec; [INSERT AverageLatency(us)=10.44] [READ AverageLatency(us)=7704.59] 
2014-07-11 15:18:41:387 260 sec: 7018457 operations; 26735.33 current ops/sec; [INSERT AverageLatency(us)=11.34] [READ AverageLatency(us)=7265.56] 
2014-07-11 15:18:51:387 270 sec: 7271527 operations; 25307 current ops/sec; [INSERT AverageLatency(us)=10.93] [READ AverageLatency(us)=7999.62] 
2014-07-11 15:19:01:388 280 sec: 7529150 operations; 25759.72 current ops/sec; [INSERT AverageLatency(us)=10.93] [READ AverageLatency(us)=7639.42] 
2014-07-11 15:19:11:404 290 sec: 7760718 operations; 23119.81 current ops/sec; [INSERT AverageLatency(us)=10.85] [READ AverageLatency(us)=8559.72] 
2014-07-11 15:19:21:404 300 sec: 7994888 operations; 23417 current ops/sec; [INSERT AverageLatency(us)=10.16] [READ AverageLatency(us)=8490.71] 
2014-07-11 15:19:31:405 310 sec: 8254293 operations; 25937.91 current ops/sec; [INSERT AverageLatency(us)=10.15] [READ AverageLatency(us)=7599.98] 
2014-07-11 15:19:41:405 320 sec: 8501434 operations; 24714.1 current ops/sec; [INSERT AverageLatency(us)=10.39] [READ AverageLatency(us)=7945.22] 
2014-07-11 15:19:51:406 330 sec: 8737544 operations; 23608.64 current ops/sec; [INSERT AverageLatency(us)=10.75] [READ AverageLatency(us)=8378.19] 
2014-07-11 15:20:01:406 340 sec: 8963099 operations; 22555.5 current ops/sec; [INSERT AverageLatency(us)=10.64] [READ AverageLatency(us)=8729.65] 
2014-07-11 15:20:11:407 350 sec: 9193892 operations; 23076.99 current ops/sec; [INSERT AverageLatency(us)=10.63] [READ AverageLatency(us)=8537.72] 
2014-07-11 15:20:21:407 360 sec: 9427808 operations; 23391.6 current ops/sec; [INSERT AverageLatency(us)=10.65] [READ AverageLatency(us)=8326.8] 
2014-07-11 15:20:31:408 370 sec: 9643781 operations; 21595.14 current ops/sec; [INSERT AverageLatency(us)=10.72] [READ AverageLatency(us)=9134.88] 
2014-07-11 15:20:41:408 380 sec: 9853408 operations; 20962.7 current ops/sec; [INSERT AverageLatency(us)=10.49] [READ AverageLatency(us)=9501.9] 
2014-07-11 15:20:51:409 390 sec: 9994800 operations; 14137.79 current ops/sec; [UPDATE AverageLatency(us)=374392.44] [INSERT AverageLatency(us)=11.29] [READ AverageLatency(us)=9797.64] [CLEANUP AverageLatency(us)=374472.88] 
2014-07-11 15:20:52:979 391 sec: 10000000 operations; 3312.1 current ops/sec; [UPDATE AverageLatency(us)=238403.75] [INSERT AverageLatency(us)=8.94] [READ AverageLatency(us)=3727.86] [CLEANUP AverageLatency(us)=238410.5] 
+ echo 'end time:'
end time:
++ date +%s
+ echo 1405117253
1405117253
+ echo 'sleeping for 10 sec ...'
sleeping for 10 sec ...
+ sleep 10
+ let counter=1+1
+ read line
+ set +x
