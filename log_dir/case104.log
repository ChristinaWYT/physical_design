++ ls caseresult/ -ltr
++ wc -l
+ filename=case104
+ mkdir caseresult/case104
+ ssh hadoop@master mkdir /home/hadoop/git/physical_design/caseresult/case104
+ RESULT_DIR=/home/hadoop/git/physical_design/caseresult/case104
+ TEN=10
+ SIXTY=60
+ SLEEP_TIME=300
+ YCSB_DIR=/home/hadoop/ycsb-0.1.4
+ number_of_operations=10000000
+ number_of_threads=20
+ number_of_records=10000000
+ output_file_suffix=.dat
+ experiment_list_file=/home/hadoop/git/physical_design/case104.list
+ clean=false
+ create=false
+ load=false
+ random_read=false
+ workloada=false
+ workloadb=false
+ workloadc=false
+ scan=false
+ all=false
+ for i in '$@'
+ '[' clean == all ']'
+ '[' clean == clean ']'
+ clean=true
+ for i in '$@'
+ '[' create == all ']'
+ '[' create == clean ']'
+ '[' create == create ']'
+ create=true
+ for i in '$@'
+ '[' workloadc == all ']'
+ '[' workloadc == clean ']'
+ '[' workloadc == create ']'
+ '[' workloadc == load ']'
+ '[' workloadc == random_read ']'
+ '[' workloadc == scan ']'
+ '[' workloadc == workloada ']'
+ '[' workloadc == workloadb ']'
+ '[' workloadc == workloadc ']'
+ workloadc=true
+ let counter=1
+ cd /home/hadoop/ycsb-0.1.4
++ pwd
+ echo /home/hadoop/ycsb-0.1.4
/home/hadoop/ycsb-0.1.4
+ read line
+ false
+ true
+ echo 'sleeping for 60 ...'
sleeping for 60 ...
+ sleep 60
+ echo 'droping usertable...'
droping usertable...
+ ssh hadoop@master /home/hadoop/hbase/bin/hbase shell /home/hadoop/git/physical_design/delete_table
0 row(s) in 2.7690 seconds

0 row(s) in 0.7830 seconds

0 row(s) in 0.0780 seconds

+ echo 'sleeping for 300 ...'
sleeping for 300 ...
+ sleep 300
+ false
+ true
+ echo 'creating usertable...'
creating usertable...
+ create_statement='create '\''usertable'\'', { NAME=>'\''family'\'', CONFIGURATION => { '\''hbase.hregion.majorcompaction'\'' => '\''0'\'' } ,  COMPRESSION=>'\''GZ'\''}, SPLITS => ['\''user1'\'', '\''user2'\'', '\''user3'\'', '\''user4'\'', '\''user5'\'', '\''user6'\'', '\''user7'\'', '\''user8'\'', '\''user9'\'']'
+ echo create ''\''usertable'\'',' '{' 'NAME=>'\''family'\'',' CONFIGURATION '=>' '{' ''\''hbase.hregion.majorcompaction'\''' '=>' ''\''0'\''' '}' , 'COMPRESSION=>'\''GZ'\''},' SPLITS '=>' '['\''user1'\'',' ''\''user2'\'',' ''\''user3'\'',' ''\''user4'\'',' ''\''user5'\'',' ''\''user6'\'',' ''\''user7'\'',' ''\''user8'\'',' ''\''user9'\'']'
+ echo 'exit '
+ scp /home/hadoop/git/physical_design/caseresult/case104/create_1.script hadoop@master:/home/hadoop/git/physical_design/caseresult/case104/create_1.script
+ create_table /home/hadoop/git/physical_design/caseresult/case104/create_1.script
+ echo 'creating table...'
creating table...
+ echo /home/hadoop/git/physical_design/caseresult/case104/create_1.script
/home/hadoop/git/physical_design/caseresult/case104/create_1.script
+ ssh hadoop@master /home/hadoop/hbase/bin/hbase shell /home/hadoop/git/physical_design/caseresult/case104/create_1.script
0 row(s) in 1.5390 seconds

+ echo 'sleeping for 10 sec ...'
sleeping for 10 sec ...
+ sleep 10
+ false
+ false
+ false
+ false
+ false
+ false
+ false
+ false
+ false
+ true
+ echo workloadc...
workloadc...
+ echo 'start time: '
start time: 
++ date +%s
+ echo 1405120299
1405120299
++ echo /home/hadoop/git/physical_design/caseresult/case104/workloadc_1.dat
+ ./workloadc 10000000 20 /home/hadoop/git/physical_design/caseresult/case104/workloadc_1.dat
Loading workload...
Starting test.
2014-07-11 16:11:39:459 0 sec: 0 operations; 
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:zookeeper.version=3.4.6-1569965, built on 02/20/2014 09:09 GMT
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:host.name=sceplus-vm43.almaden.ibm.com
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:java.version=1.6.0_31
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:java.vendor=Sun Microsystems Inc.
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:java.home=/usr/lib/jvm/java-6-openjdk-amd64/jre
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:java.class.path=/home/hadoop/ycsb-0.1.4/hbase-binding/lib/hbase-binding-0.1.4.jar:/home/hadoop/ycsb-0.1.4/hbase-binding/conf:/home/hadoop/ycsb-0.1.4/core/lib/core-0.1.4.jar:/home/hadoop/ycsb-0.1.4/jdbc-binding/conf
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:java.library.path=/usr/lib/jvm/java-6-openjdk-amd64/jre/lib/amd64/server:/usr/lib/jvm/java-6-openjdk-amd64/jre/lib/amd64:/usr/lib/jvm/java-6-openjdk-amd64/jre/../lib/amd64:/usr/java/packages/lib/amd64:/usr/lib/jni:/lib:/usr/lib
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:java.io.tmpdir=/tmp
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:java.compiler=<NA>
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:os.name=Linux
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:os.arch=amd64
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:os.version=3.13.0-24-generic
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:user.name=hadoop
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:user.home=/home/hadoop
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Client environment:user.dir=/home/hadoop/ycsb-0.1.4
14/07/11 16:11:39 INFO zookeeper.ZooKeeper: Initiating client connection, connectString=sceplus-vm49.almaden.ibm.com:2181,sceplus-vm48.almaden.ibm.com:2181 sessionTimeout=90000 watcher=hconnection-0x62565cf8, quorum=sceplus-vm49.almaden.ibm.com:2181,sceplus-vm48.almaden.ibm.com:2181, baseZNode=/hbase
14/07/11 16:11:39 INFO zookeeper.RecoverableZooKeeper: Process identifier=hconnection-0x62565cf8 connecting to ZooKeeper ensemble=sceplus-vm49.almaden.ibm.com:2181,sceplus-vm48.almaden.ibm.com:2181
14/07/11 16:11:39 INFO zookeeper.ClientCnxn: Opening socket connection to server slave1/9.1.143.59:2181. Will not attempt to authenticate using SASL (unknown error)
14/07/11 16:11:39 INFO zookeeper.ClientCnxn: Socket connection established to slave1/9.1.143.59:2181, initiating session
14/07/11 16:11:39 INFO zookeeper.ClientCnxn: Session establishment complete on server slave1/9.1.143.59:2181, sessionid = 0x147295e69f1000c, negotiated timeout = 90000
2014-07-11 16:11:49:460 10 sec: 176542 operations; 17652.43 current ops/sec; [INSERT AverageLatency(us)=128.2] [READ AverageLatency(us)=8640.99] 
2014-07-11 16:11:59:461 20 sec: 515027 operations; 33845.12 current ops/sec; [INSERT AverageLatency(us)=13.4] [READ AverageLatency(us)=5767.04] 
2014-07-11 16:12:09:462 30 sec: 841473 operations; 32641.34 current ops/sec; [INSERT AverageLatency(us)=11.26] [READ AverageLatency(us)=5966.52] 
2014-07-11 16:12:19:462 40 sec: 1148130 operations; 30665.7 current ops/sec; [INSERT AverageLatency(us)=11.33] [READ AverageLatency(us)=6185.74] 
2014-07-11 16:12:29:463 50 sec: 1371240 operations; 22308.77 current ops/sec; [INSERT AverageLatency(us)=11.95] [READ AverageLatency(us)=8361.01] 
2014-07-11 16:12:39:463 60 sec: 1576869 operations; 20562.9 current ops/sec; [INSERT AverageLatency(us)=12.92] [READ AverageLatency(us)=10487.48] 
2014-07-11 16:12:49:464 70 sec: 1667898 operations; 9101.99 current ops/sec; [INSERT AverageLatency(us)=11.65] [READ AverageLatency(us)=8135.84] 
2014-07-11 16:12:59:464 80 sec: 1692356 operations; 2445.8 current ops/sec; [INSERT AverageLatency(us)=12.02] [READ AverageLatency(us)=131618.3] 
2014-07-11 16:13:09:465 90 sec: 1864312 operations; 17193.88 current ops/sec; [INSERT AverageLatency(us)=12.13] [READ AverageLatency(us)=11505.99] 
2014-07-11 16:13:19:465 100 sec: 2095728 operations; 23141.6 current ops/sec; [INSERT AverageLatency(us)=12.6] [READ AverageLatency(us)=8479.74] 
2014-07-11 16:13:29:466 110 sec: 2322570 operations; 22681.93 current ops/sec; [INSERT AverageLatency(us)=11.47] [READ AverageLatency(us)=8589.57] 
2014-07-11 16:13:39:466 120 sec: 2518953 operations; 19638.3 current ops/sec; [INSERT AverageLatency(us)=11.68] [READ AverageLatency(us)=10131.22] 
2014-07-11 16:13:49:467 130 sec: 2783246 operations; 26426.66 current ops/sec; [INSERT AverageLatency(us)=11.28] [READ AverageLatency(us)=7436.41] 
2014-07-11 16:13:59:467 140 sec: 3007418 operations; 22417.2 current ops/sec; [INSERT AverageLatency(us)=11.63] [READ AverageLatency(us)=8885.19] 
2014-07-11 16:14:09:468 150 sec: 3262908 operations; 25546.45 current ops/sec; [INSERT AverageLatency(us)=11.01] [READ AverageLatency(us)=7664.2] 
2014-07-11 16:14:19:468 160 sec: 3492032 operations; 22912.4 current ops/sec; [INSERT AverageLatency(us)=11.69] [READ AverageLatency(us)=8548.55] 
2014-07-11 16:14:29:469 170 sec: 3743042 operations; 25098.49 current ops/sec; [INSERT AverageLatency(us)=12.16] [READ AverageLatency(us)=7811.87] 
2014-07-11 16:14:39:469 180 sec: 3977204 operations; 23416.2 current ops/sec; [INSERT AverageLatency(us)=11.69] [READ AverageLatency(us)=8413.69] 
2014-07-11 16:14:49:470 190 sec: 4217701 operations; 24049.7 current ops/sec; [INSERT AverageLatency(us)=10.74] [READ AverageLatency(us)=8070.84] 
2014-07-11 16:14:59:470 200 sec: 4492029 operations; 27430.06 current ops/sec; [INSERT AverageLatency(us)=10.98] [READ AverageLatency(us)=7081.49] 
2014-07-11 16:15:09:470 210 sec: 4741326 operations; 24929.7 current ops/sec; [INSERT AverageLatency(us)=10.78] [READ AverageLatency(us)=7922.24] 
2014-07-11 16:15:19:471 220 sec: 4991530 operations; 25017.9 current ops/sec; [INSERT AverageLatency(us)=11.52] [READ AverageLatency(us)=7829.76] 
2014-07-11 16:15:29:471 230 sec: 5265941 operations; 27441.1 current ops/sec; [INSERT AverageLatency(us)=11.32] [READ AverageLatency(us)=7132] 
2014-07-11 16:15:39:472 240 sec: 5516494 operations; 25052.79 current ops/sec; [INSERT AverageLatency(us)=11.13] [READ AverageLatency(us)=8007.27] 
2014-07-11 16:15:49:472 250 sec: 5737434 operations; 22094 current ops/sec; [INSERT AverageLatency(us)=11.25] [READ AverageLatency(us)=8860.14] 
2014-07-11 16:15:59:473 260 sec: 5936337 operations; 19888.31 current ops/sec; [INSERT AverageLatency(us)=11.15] [READ AverageLatency(us)=10066.03] 
2014-07-11 16:16:09:473 270 sec: 6183734 operations; 24739.7 current ops/sec; [INSERT AverageLatency(us)=11.87] [READ AverageLatency(us)=7990.74] 
2014-07-11 16:16:19:474 280 sec: 6445337 operations; 26157.68 current ops/sec; [INSERT AverageLatency(us)=10.6] [READ AverageLatency(us)=7625.65] 
2014-07-11 16:16:29:474 290 sec: 6700832 operations; 25549.5 current ops/sec; [INSERT AverageLatency(us)=10.61] [READ AverageLatency(us)=7672.51] 
2014-07-11 16:16:39:475 300 sec: 6953666 operations; 25280.87 current ops/sec; [INSERT AverageLatency(us)=10.31] [READ AverageLatency(us)=7767.49] 
2014-07-11 16:16:49:475 310 sec: 7184439 operations; 23077.3 current ops/sec; [INSERT AverageLatency(us)=11.31] [READ AverageLatency(us)=8549.94] 
2014-07-11 16:16:59:476 320 sec: 7449178 operations; 26471.25 current ops/sec; [INSERT AverageLatency(us)=10.37] [READ AverageLatency(us)=7427.88] 
2014-07-11 16:17:09:476 330 sec: 7698438 operations; 24926 current ops/sec; [INSERT AverageLatency(us)=10.32] [READ AverageLatency(us)=7881.76] 
2014-07-11 16:17:19:477 340 sec: 7934889 operations; 23642.74 current ops/sec; [INSERT AverageLatency(us)=10.55] [READ AverageLatency(us)=8244.78] 
2014-07-11 16:17:29:477 350 sec: 8170387 operations; 23549.8 current ops/sec; [INSERT AverageLatency(us)=10.54] [READ AverageLatency(us)=8383.74] 
2014-07-11 16:17:39:478 360 sec: 8407838 operations; 23745.1 current ops/sec; [INSERT AverageLatency(us)=10.67] [READ AverageLatency(us)=8240.65] 
2014-07-11 16:17:49:478 370 sec: 8631559 operations; 22369.86 current ops/sec; [INSERT AverageLatency(us)=10.35] [READ AverageLatency(us)=8780.5] 
2014-07-11 16:17:59:478 380 sec: 8850116 operations; 21855.7 current ops/sec; [INSERT AverageLatency(us)=11.22] [READ AverageLatency(us)=9057.45] 
2014-07-11 16:18:09:479 390 sec: 9080011 operations; 22987.2 current ops/sec; [INSERT AverageLatency(us)=10.45] [READ AverageLatency(us)=8630.04] 
2014-07-11 16:18:19:479 400 sec: 9300604 operations; 22059.3 current ops/sec; [INSERT AverageLatency(us)=11.26] [READ AverageLatency(us)=8895.66] 
2014-07-11 16:18:29:480 410 sec: 9502769 operations; 20214.48 current ops/sec; [INSERT AverageLatency(us)=10.84] [READ AverageLatency(us)=9717.96] 
2014-07-11 16:18:39:480 420 sec: 9721002 operations; 21823.3 current ops/sec; [INSERT AverageLatency(us)=10.32] [READ AverageLatency(us)=9016.27] 
2014-07-11 16:18:49:481 430 sec: 9935655 operations; 21463.15 current ops/sec; [UPDATE AverageLatency(us)=512670.33] [INSERT AverageLatency(us)=10.22] [READ AverageLatency(us)=8871.97] [CLEANUP AverageLatency(us)=513002.33] 
2014-07-11 16:18:55:249 435 sec: 10000000 operations; 11155.51 current ops/sec; [UPDATE AverageLatency(us)=358027.35] [INSERT AverageLatency(us)=9.58] [READ AverageLatency(us)=7086.98] [CLEANUP AverageLatency(us)=358036.88] 
+ echo 'end time:'
end time:
++ date +%s
+ echo 1405120735
1405120735
+ echo 'sleeping for 10 sec ...'
sleeping for 10 sec ...
+ sleep 10
+ let counter=1+1
+ read line
+ set +x
